!function(e){var t={};function n(r){if(t[r])return t[r].exports;var o=t[r]={i:r,l:!1,exports:{}};return e[r].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var o in e)n.d(r,o,function(t){return e[t]}.bind(null,o));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="build",n(n.s=4)}([function(e,t,n){"use strict";var r=n(2),o=n.n(r)()((function(e){return e[1]}));o.push([e.i,"@import url(https://fonts.googleapis.com/css2?family=Alumni+Sans:wght@300;400;500&family=Source+Sans+Pro:wght@300;400;600;700&display=swap);"]),o.push([e.i,'body{font-family:"Alumni Sans",sans-serif;font-family:"Source Sans Pro",sans-serif}label{display:block}input,.select{text-align:left;padding:20px;border:2px solid #ced4da;border-radius:4px;width:100%}input:focus,.select:focus{background-color:#f1f3f5;outline:none}input[type=number]{width:30%}label[for=quantity]{font-size:14px}select:required:invalid{color:gray}option[value=""][disabled]{color:red;display:none}.select-placeholder{color:red}.input-error{background-color:#ffe3e3;outline:none;border:2px solid #c92a2a}.input-success{outline:none;border:2px solid #8ce99a}.submit{color:#f8f9fa;font-size:large;text-align:center;cursor:pointer;border:none;background-color:#12b886}.submit:hover{background-color:#0ca678}.submit:active{background-color:#12b886}.submit:focus{background-color:#099268}.rating-container{display:flex;justify-content:space-between;align-items:center}.form-control{margin-bottom:20px}.btn{border:none;padding:12px;border-radius:4px;cursor:pointer;width:20%}header{display:flex;align-items:center;gap:24px}header .card-select{padding:8px;width:auto;text-align:left}.book-card{border:1px solid #ced4da;border-radius:8px;color:#212529;margin:24px 0;padding:16px}h4{font-size:24px}h5{font-size:18px}h4,h5,p{margin-bottom:4px}.btn-edit{background-color:#ffe066;color:#212529;margin:16px 16px 0 0}.btn-delete{background-color:#e03131;color:#f8f9fa}.no-books-added{margin-top:30px;text-align:center}*{margin:0;padding:0;box-sizing:border-box}a{text-decoration:none;color:#212529}a:hover{cursor:pointer;text-decoration:underline}.container{width:460px;margin:0 auto;padding:10px}ul{list-style-type:none}section{margin:30px 0}',""]),t.a=o},function(e,t,n){"use strict";var r,o=function(){return void 0===r&&(r=Boolean(window&&document&&document.all&&!window.atob)),r},i=function(){var e={};return function(t){if(void 0===e[t]){var n=document.querySelector(t);if(window.HTMLIFrameElement&&n instanceof window.HTMLIFrameElement)try{n=n.contentDocument.head}catch(e){n=null}e[t]=n}return e[t]}}(),s=[];function a(e){for(var t=-1,n=0;n<s.length;n++)if(s[n].identifier===e){t=n;break}return t}function l(e,t){for(var n={},r=[],o=0;o<e.length;o++){var i=e[o],l=t.base?i[0]+t.base:i[0],u=n[l]||0,c="".concat(l," ").concat(u);n[l]=u+1;var d=a(c),h={css:i[1],media:i[2],sourceMap:i[3]};-1!==d?(s[d].references++,s[d].updater(h)):s.push({identifier:c,updater:g(h,t),references:1}),r.push(c)}return r}function u(e){var t=document.createElement("style"),r=e.attributes||{};if(void 0===r.nonce){var o=n.nc;o&&(r.nonce=o)}if(Object.keys(r).forEach((function(e){t.setAttribute(e,r[e])})),"function"==typeof e.insert)e.insert(t);else{var s=i(e.insert||"head");if(!s)throw new Error("Couldn't find a style target. This probably means that the value for the 'insert' parameter is invalid.");s.appendChild(t)}return t}var c,d=(c=[],function(e,t){return c[e]=t,c.filter(Boolean).join("\n")});function h(e,t,n,r){var o=n?"":r.media?"@media ".concat(r.media," {").concat(r.css,"}"):r.css;if(e.styleSheet)e.styleSheet.cssText=d(t,o);else{var i=document.createTextNode(o),s=e.childNodes;s[t]&&e.removeChild(s[t]),s.length?e.insertBefore(i,s[t]):e.appendChild(i)}}function p(e,t,n){var r=n.css,o=n.media,i=n.sourceMap;if(o?e.setAttribute("media",o):e.removeAttribute("media"),i&&"undefined"!=typeof btoa&&(r+="\n/*# sourceMappingURL=data:application/json;base64,".concat(btoa(unescape(encodeURIComponent(JSON.stringify(i))))," */")),e.styleSheet)e.styleSheet.cssText=r;else{for(;e.firstChild;)e.removeChild(e.firstChild);e.appendChild(document.createTextNode(r))}}var f=null,m=0;function g(e,t){var n,r,o;if(t.singleton){var i=m++;n=f||(f=u(t)),r=h.bind(null,n,i,!1),o=h.bind(null,n,i,!0)}else n=u(t),r=p.bind(null,n,t),o=function(){!function(e){if(null===e.parentNode)return!1;e.parentNode.removeChild(e)}(n)};return r(e),function(t){if(t){if(t.css===e.css&&t.media===e.media&&t.sourceMap===e.sourceMap)return;r(e=t)}else o()}}e.exports=function(e,t){(t=t||{}).singleton||"boolean"==typeof t.singleton||(t.singleton=o());var n=l(e=e||[],t);return function(e){if(e=e||[],"[object Array]"===Object.prototype.toString.call(e)){for(var r=0;r<n.length;r++){var o=a(n[r]);s[o].references--}for(var i=l(e,t),u=0;u<n.length;u++){var c=a(n[u]);0===s[c].references&&(s[c].updater(),s.splice(c,1))}n=i}}}},function(e,t,n){"use strict";e.exports=function(e){var t=[];return t.toString=function(){return this.map((function(t){var n=e(t);return t[2]?"@media ".concat(t[2]," {").concat(n,"}"):n})).join("")},t.i=function(e,n,r){"string"==typeof e&&(e=[[null,e,""]]);var o={};if(r)for(var i=0;i<this.length;i++){var s=this[i][0];null!=s&&(o[s]=!0)}for(var a=0;a<e.length;a++){var l=[].concat(e[a]);r&&o[l[0]]||(n&&(l[2]?l[2]="".concat(n," and ").concat(l[2]):l[2]=n),t.push(l))}},t}},function(e,t,n){"use strict";var r;n.r(t),n.d(t,"v1",(function(){return m})),n.d(t,"v3",(function(){return x})),n.d(t,"v4",(function(){return L})),n.d(t,"v5",(function(){return A})),n.d(t,"NIL",(function(){return M})),n.d(t,"version",(function(){return j})),n.d(t,"validate",(function(){return a})),n.d(t,"stringify",(function(){return h})),n.d(t,"parse",(function(){return g}));var o=new Uint8Array(16);function i(){if(!r&&!(r="undefined"!=typeof crypto&&crypto.getRandomValues&&crypto.getRandomValues.bind(crypto)||"undefined"!=typeof msCrypto&&"function"==typeof msCrypto.getRandomValues&&msCrypto.getRandomValues.bind(msCrypto)))throw new Error("crypto.getRandomValues() not supported. See https://github.com/uuidjs/uuid#getrandomvalues-not-supported");return r(o)}var s=/^(?:[0-9a-f]{8}-[0-9a-f]{4}-[1-5][0-9a-f]{3}-[89ab][0-9a-f]{3}-[0-9a-f]{12}|00000000-0000-0000-0000-000000000000)$/i;for(var a=function(e){return"string"==typeof e&&s.test(e)},l=[],u=0;u<256;++u)l.push((u+256).toString(16).substr(1));var c,d,h=function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:0,n=(l[e[t+0]]+l[e[t+1]]+l[e[t+2]]+l[e[t+3]]+"-"+l[e[t+4]]+l[e[t+5]]+"-"+l[e[t+6]]+l[e[t+7]]+"-"+l[e[t+8]]+l[e[t+9]]+"-"+l[e[t+10]]+l[e[t+11]]+l[e[t+12]]+l[e[t+13]]+l[e[t+14]]+l[e[t+15]]).toLowerCase();if(!a(n))throw TypeError("Stringified UUID is invalid");return n},p=0,f=0;var m=function(e,t,n){var r=t&&n||0,o=t||new Array(16),s=(e=e||{}).node||c,a=void 0!==e.clockseq?e.clockseq:d;if(null==s||null==a){var l=e.random||(e.rng||i)();null==s&&(s=c=[1|l[0],l[1],l[2],l[3],l[4],l[5]]),null==a&&(a=d=16383&(l[6]<<8|l[7]))}var u=void 0!==e.msecs?e.msecs:Date.now(),m=void 0!==e.nsecs?e.nsecs:f+1,g=u-p+(m-f)/1e4;if(g<0&&void 0===e.clockseq&&(a=a+1&16383),(g<0||u>p)&&void 0===e.nsecs&&(m=0),m>=1e4)throw new Error("uuid.v1(): Can't create more than 10M uuids/sec");p=u,f=m,d=a;var v=(1e4*(268435455&(u+=122192928e5))+m)%4294967296;o[r++]=v>>>24&255,o[r++]=v>>>16&255,o[r++]=v>>>8&255,o[r++]=255&v;var y=u/4294967296*1e4&268435455;o[r++]=y>>>8&255,o[r++]=255&y,o[r++]=y>>>24&15|16,o[r++]=y>>>16&255,o[r++]=a>>>8|128,o[r++]=255&a;for(var b=0;b<6;++b)o[r+b]=s[b];return t||h(o)};var g=function(e){if(!a(e))throw TypeError("Invalid UUID");var t,n=new Uint8Array(16);return n[0]=(t=parseInt(e.slice(0,8),16))>>>24,n[1]=t>>>16&255,n[2]=t>>>8&255,n[3]=255&t,n[4]=(t=parseInt(e.slice(9,13),16))>>>8,n[5]=255&t,n[6]=(t=parseInt(e.slice(14,18),16))>>>8,n[7]=255&t,n[8]=(t=parseInt(e.slice(19,23),16))>>>8,n[9]=255&t,n[10]=(t=parseInt(e.slice(24,36),16))/1099511627776&255,n[11]=t/4294967296&255,n[12]=t>>>24&255,n[13]=t>>>16&255,n[14]=t>>>8&255,n[15]=255&t,n};var v=function(e,t,n){function r(e,r,o,i){if("string"==typeof e&&(e=function(e){e=unescape(encodeURIComponent(e));for(var t=[],n=0;n<e.length;++n)t.push(e.charCodeAt(n));return t}(e)),"string"==typeof r&&(r=g(r)),16!==r.length)throw TypeError("Namespace must be array-like (16 iterable integer values, 0-255)");var s=new Uint8Array(16+e.length);if(s.set(r),s.set(e,r.length),(s=n(s))[6]=15&s[6]|t,s[8]=63&s[8]|128,o){i=i||0;for(var a=0;a<16;++a)o[i+a]=s[a];return o}return h(s)}try{r.name=e}catch(e){}return r.DNS="6ba7b810-9dad-11d1-80b4-00c04fd430c8",r.URL="6ba7b811-9dad-11d1-80b4-00c04fd430c8",r};function y(e){return 14+(e+64>>>9<<4)+1}function b(e,t){var n=(65535&e)+(65535&t);return(e>>16)+(t>>16)+(n>>16)<<16|65535&n}function E(e,t,n,r,o,i){return b((s=b(b(t,e),b(r,i)))<<(a=o)|s>>>32-a,n);var s,a}function k(e,t,n,r,o,i,s){return E(t&n|~t&r,e,t,o,i,s)}function I(e,t,n,r,o,i,s){return E(t&r|n&~r,e,t,o,i,s)}function S(e,t,n,r,o,i,s){return E(t^n^r,e,t,o,i,s)}function w(e,t,n,r,o,i,s){return E(n^(t|~r),e,t,o,i,s)}var x=v("v3",48,(function(e){if("string"==typeof e){var t=unescape(encodeURIComponent(e));e=new Uint8Array(t.length);for(var n=0;n<t.length;++n)e[n]=t.charCodeAt(n)}return function(e){for(var t=[],n=32*e.length,r=0;r<n;r+=8){var o=e[r>>5]>>>r%32&255,i=parseInt("0123456789abcdef".charAt(o>>>4&15)+"0123456789abcdef".charAt(15&o),16);t.push(i)}return t}(function(e,t){e[t>>5]|=128<<t%32,e[y(t)-1]=t;for(var n=1732584193,r=-271733879,o=-1732584194,i=271733878,s=0;s<e.length;s+=16){var a=n,l=r,u=o,c=i;n=k(n,r,o,i,e[s],7,-680876936),i=k(i,n,r,o,e[s+1],12,-389564586),o=k(o,i,n,r,e[s+2],17,606105819),r=k(r,o,i,n,e[s+3],22,-1044525330),n=k(n,r,o,i,e[s+4],7,-176418897),i=k(i,n,r,o,e[s+5],12,1200080426),o=k(o,i,n,r,e[s+6],17,-1473231341),r=k(r,o,i,n,e[s+7],22,-45705983),n=k(n,r,o,i,e[s+8],7,1770035416),i=k(i,n,r,o,e[s+9],12,-1958414417),o=k(o,i,n,r,e[s+10],17,-42063),r=k(r,o,i,n,e[s+11],22,-1990404162),n=k(n,r,o,i,e[s+12],7,1804603682),i=k(i,n,r,o,e[s+13],12,-40341101),o=k(o,i,n,r,e[s+14],17,-1502002290),r=k(r,o,i,n,e[s+15],22,1236535329),n=I(n,r,o,i,e[s+1],5,-165796510),i=I(i,n,r,o,e[s+6],9,-1069501632),o=I(o,i,n,r,e[s+11],14,643717713),r=I(r,o,i,n,e[s],20,-373897302),n=I(n,r,o,i,e[s+5],5,-701558691),i=I(i,n,r,o,e[s+10],9,38016083),o=I(o,i,n,r,e[s+15],14,-660478335),r=I(r,o,i,n,e[s+4],20,-405537848),n=I(n,r,o,i,e[s+9],5,568446438),i=I(i,n,r,o,e[s+14],9,-1019803690),o=I(o,i,n,r,e[s+3],14,-187363961),r=I(r,o,i,n,e[s+8],20,1163531501),n=I(n,r,o,i,e[s+13],5,-1444681467),i=I(i,n,r,o,e[s+2],9,-51403784),o=I(o,i,n,r,e[s+7],14,1735328473),r=I(r,o,i,n,e[s+12],20,-1926607734),n=S(n,r,o,i,e[s+5],4,-378558),i=S(i,n,r,o,e[s+8],11,-2022574463),o=S(o,i,n,r,e[s+11],16,1839030562),r=S(r,o,i,n,e[s+14],23,-35309556),n=S(n,r,o,i,e[s+1],4,-1530992060),i=S(i,n,r,o,e[s+4],11,1272893353),o=S(o,i,n,r,e[s+7],16,-155497632),r=S(r,o,i,n,e[s+10],23,-1094730640),n=S(n,r,o,i,e[s+13],4,681279174),i=S(i,n,r,o,e[s],11,-358537222),o=S(o,i,n,r,e[s+3],16,-722521979),r=S(r,o,i,n,e[s+6],23,76029189),n=S(n,r,o,i,e[s+9],4,-640364487),i=S(i,n,r,o,e[s+12],11,-421815835),o=S(o,i,n,r,e[s+15],16,530742520),r=S(r,o,i,n,e[s+2],23,-995338651),n=w(n,r,o,i,e[s],6,-198630844),i=w(i,n,r,o,e[s+7],10,1126891415),o=w(o,i,n,r,e[s+14],15,-1416354905),r=w(r,o,i,n,e[s+5],21,-57434055),n=w(n,r,o,i,e[s+12],6,1700485571),i=w(i,n,r,o,e[s+3],10,-1894986606),o=w(o,i,n,r,e[s+10],15,-1051523),r=w(r,o,i,n,e[s+1],21,-2054922799),n=w(n,r,o,i,e[s+8],6,1873313359),i=w(i,n,r,o,e[s+15],10,-30611744),o=w(o,i,n,r,e[s+6],15,-1560198380),r=w(r,o,i,n,e[s+13],21,1309151649),n=w(n,r,o,i,e[s+4],6,-145523070),i=w(i,n,r,o,e[s+11],10,-1120210379),o=w(o,i,n,r,e[s+2],15,718787259),r=w(r,o,i,n,e[s+9],21,-343485551),n=b(n,a),r=b(r,l),o=b(o,u),i=b(i,c)}return[n,r,o,i]}(function(e){if(0===e.length)return[];for(var t=8*e.length,n=new Uint32Array(y(t)),r=0;r<t;r+=8)n[r>>5]|=(255&e[r/8])<<r%32;return n}(e),8*e.length))}));var L=function(e,t,n){var r=(e=e||{}).random||(e.rng||i)();if(r[6]=15&r[6]|64,r[8]=63&r[8]|128,t){n=n||0;for(var o=0;o<16;++o)t[n+o]=r[o];return t}return h(r)};function B(e,t,n,r){switch(e){case 0:return t&n^~t&r;case 1:return t^n^r;case 2:return t&n^t&r^n&r;case 3:return t^n^r}}function C(e,t){return e<<t|e>>>32-t}var A=v("v5",80,(function(e){var t=[1518500249,1859775393,2400959708,3395469782],n=[1732584193,4023233417,2562383102,271733878,3285377520];if("string"==typeof e){var r=unescape(encodeURIComponent(e));e=[];for(var o=0;o<r.length;++o)e.push(r.charCodeAt(o))}else Array.isArray(e)||(e=Array.prototype.slice.call(e));e.push(128);for(var i=e.length/4+2,s=Math.ceil(i/16),a=new Array(s),l=0;l<s;++l){for(var u=new Uint32Array(16),c=0;c<16;++c)u[c]=e[64*l+4*c]<<24|e[64*l+4*c+1]<<16|e[64*l+4*c+2]<<8|e[64*l+4*c+3];a[l]=u}a[s-1][14]=8*(e.length-1)/Math.pow(2,32),a[s-1][14]=Math.floor(a[s-1][14]),a[s-1][15]=8*(e.length-1)&4294967295;for(var d=0;d<s;++d){for(var h=new Uint32Array(80),p=0;p<16;++p)h[p]=a[d][p];for(var f=16;f<80;++f)h[f]=C(h[f-3]^h[f-8]^h[f-14]^h[f-16],1);for(var m=n[0],g=n[1],v=n[2],y=n[3],b=n[4],E=0;E<80;++E){var k=Math.floor(E/20),I=C(m,5)+B(k,g,v,y)+b+t[k]+h[E]>>>0;b=y,y=v,v=C(g,30)>>>0,g=m,m=I}n[0]=n[0]+m>>>0,n[1]=n[1]+g>>>0,n[2]=n[2]+v>>>0,n[3]=n[3]+y>>>0,n[4]=n[4]+b>>>0}return[n[0]>>24&255,n[0]>>16&255,n[0]>>8&255,255&n[0],n[1]>>24&255,n[1]>>16&255,n[1]>>8&255,255&n[1],n[2]>>24&255,n[2]>>16&255,n[2]>>8&255,255&n[2],n[3]>>24&255,n[3]>>16&255,n[3]>>8&255,255&n[3],n[4]>>24&255,n[4]>>16&255,n[4]>>8&255,255&n[4]]})),M="00000000-0000-0000-0000-000000000000";var j=function(e){if(!a(e))throw TypeError("Invalid UUID");return parseInt(e.substr(14,1),16)}},function(e,t,n){"use strict";function r(e,t,n){const r=n.value;return{configurable:!0,get(){return r.bind(this)}}}n.r(t),n.d(t,"bookList",(function(){return b})),n.d(t,"bookInput",(function(){return E}));const{v4:o}=n(3);class i{constructor(e,t,n,r,o){this.id=e,this.title=t,this.author=n,this.category=r,this.rating=o}}class s extends class{constructor(){this.listeners=[]}addListener(e){this.listeners.push(e)}}{constructor(){super(),this.books=[],this.editMode=!1,this.books=this.localBooksData,this.updateListeners()}get localBooksData(){const e=localStorage.getItem("books");return e?JSON.parse(e):[]}static getInstance(){return this.instance||(this.instance=new s),this.instance}get allBooks(){return this.books}updateLocalStorage(){return localStorage.setItem("books",JSON.stringify(this.books))}switchEditMode(){this.editMode=!this.editMode}returnEditMode(){return this.editMode}updateListeners(e=this.books){for(const t of this.listeners)t(e.slice())}deleteBook(e){const t=this.books.filter(t=>t.id!==e);this.books=t,this.updateListeners(),this.updateLocalStorage()}addBook(e,t,n,r){const s=o(),a=new i(s,e,t,n,r);this.books.push(a),this.updateListeners(),this.updateLocalStorage()}editBook(e,t,n,r,o){const i=this.books.map(i=>{const s={id:i.id,title:e,author:t,category:n,rating:r};return i.id===o?s:i});this.books=i,this.updateListeners(),this.updateLocalStorage()}sortBy(e){return this.books.sort((t,n)=>t[e]<n[e]?1:t[e]>n[e]?-1:0)}}const a=s.getInstance();class l{constructor(e,t,n){this.templateElement=document.getElementById(e),this.hostElement=document.getElementById(t);const r=document.importNode(this.templateElement.content,!0);this.element=r.firstElementChild,this.attach(n)}attach(e){this.hostElement.insertAdjacentElement(e?"afterbegin":"beforeend",this.element)}}var u=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};class c extends l{constructor(){super("book-input","app",!0),this.titleInputElement=this.element.querySelector("#title"),this.authorInputElement=this.element.querySelector("#author"),this.categoryInputElement=this.element.querySelector("#category"),this.ratingInputElement=this.element.querySelector("#rating"),this.idElement=this.element.querySelector("#id"),this.configure()}gatherUserInput(){const e=this.titleInputElement.value,t=this.authorInputElement.value,n=this.categoryInputElement.value,r=this.ratingInputElement.value,o=this.idElement.value;return[e,t,n,parseInt(r),o]}useCSSStyles(e,t){t?(e.classList.remove("input-error"),e.classList.add("input-success")):(e.classList.remove("input-success"),e.classList.add("input-error"))}runAllValidations(){const e=this.validation(this.titleInputElement,/^[a-ząĄćĆĘęŁłŃńÓóŚśŹźŻż\d\s]{3,150}$/gi),t=this.validation(this.authorInputElement,/^[a-ząĄćĆĘęŁłŃńÓóŚśŹźŻż\d\s]{3,150}$/gi),n=this.validation(this.categoryInputElement,/^fantasy|poetry|drama|romance|sci-fi|mystery$/),r=this.validation(this.ratingInputElement,/^[1-5]$/);return e&&t&&n&&r}validation(e,t){const n=t.test(e.value);return this.useCSSStyles(e,n),n}validateInputs(e){switch(e.target.id){case"title":const e=/^[a-ząĄćĆĘęŁłŃńÓóŚśŹźŻż\d\s]{3,150}$/gi;this.validation(this.titleInputElement,e);break;case"author":const t=/^[a-ząĄćĆĘęŁłŃńÓóŚśŹźŻż\d\s]{3,150}$/gi;this.validation(this.authorInputElement,t);break;case"category":const n=/^fantasy|poetry|drama|romance|sci-fi|mystery$/;this.validation(this.categoryInputElement,n);break;case"rating":const r=/^[1-5]$/;this.validation(this.ratingInputElement,r)}return!0}submitHandler(e){if(e.preventDefault(),!this.runAllValidations())throw new Error("Please fill in the form");{const e=this.gatherUserInput();if(Array.isArray(e)){const[t,n,r,o,i]=e;a.returnEditMode()?(a.editBook(t,n,r,o,i),a.switchEditMode()):a.addBook(t,n,r,o),this.clearInputs();document.getElementById("submit").value="ADD BOOK"}}}clearInputs(){this.titleInputElement.value="",this.authorInputElement.value="",this.categoryInputElement.value="",this.ratingInputElement.value=""}configure(){this.element.addEventListener("submit",this.submitHandler),this.titleInputElement.addEventListener("keyup",this.validateInputs),this.titleInputElement.addEventListener("blur",()=>{""===this.titleInputElement.value&&this.titleInputElement.classList.remove("input-error")}),this.authorInputElement.addEventListener("keyup",this.validateInputs),this.authorInputElement.addEventListener("blur",()=>{""===this.authorInputElement.value&&this.authorInputElement.classList.remove("input-error")}),this.categoryInputElement.addEventListener("change",this.validateInputs),this.categoryInputElement.addEventListener("blur",()=>{""===this.categoryInputElement.value&&this.categoryInputElement.classList.remove("input-error")}),this.ratingInputElement.addEventListener("change",this.validateInputs),this.ratingInputElement.addEventListener("blur",()=>{""===this.ratingInputElement.value&&this.ratingInputElement.classList.remove("input-error")})}renderContent(){}}u([r],c.prototype,"validation",null),u([r],c.prototype,"validateInputs",null),u([r],c.prototype,"submitHandler",null);var d=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};class h extends l{constructor(e){super("single-book","books-list",!0),this.book=e,this.configure(),this.renderContent()}deleteHandler(){a.deleteBook(this.book.id)}editHendler(){a.returnEditMode()||a.switchEditMode();document.getElementById("submit").value="UPDATE BOOK";const e=document.getElementById("title"),t=document.getElementById("author"),n=document.getElementById("category"),r=document.getElementById("rating"),o=document.getElementById("id");e.value=this.book.title,t.value=this.book.author,n.value=this.book.category,r.value=this.book.rating.toString(),o.value=this.book.id,E.runAllValidations()}selectedFilterHendler(e){const t=e.target;console.log(t.id);const n=this.element.querySelector("#"+t.id).innerText.toString();console.log(n,"value"),console.log(t.id,"element.id"),b.filterResults(n,t.id)}configure(){this.element.querySelector("#delete").addEventListener("click",this.deleteHandler),this.element.querySelector("#edit").addEventListener("click",this.editHendler),this.element.querySelector("#author-container").addEventListener("click",this.selectedFilterHendler),this.element.querySelector("#category-container").addEventListener("click",this.selectedFilterHendler),this.element.querySelector("#rating-container").addEventListener("click",this.selectedFilterHendler)}renderContent(){this.element.querySelector("#title-container").textContent=this.book.title,this.element.querySelector("#author-container").textContent=this.book.author,this.element.querySelector("#category-container").textContent=this.book.category,this.element.querySelector("#rating-container").textContent=this.book.rating.toString()}}d([r],h.prototype,"deleteHandler",null),d([r],h.prototype,"editHendler",null),d([r],h.prototype,"selectedFilterHendler",null);var p=function(e,t,n,r){var o,i=arguments.length,s=i<3?t:null===r?r=Object.getOwnPropertyDescriptor(t,n):r;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)s=Reflect.decorate(e,t,n,r);else for(var a=e.length-1;a>=0;a--)(o=e[a])&&(s=(i<3?o(s):i>3?o(t,n,s):o(t,n))||s);return i>3&&s&&Object.defineProperty(t,n,s),s};class f extends l{constructor(){super("books-list-template","app",!0),this.addedBooks=a.localBooksData,a.addListener(e=>{this.addedBooks=e,this.renderBooks()}),this.renderBooks(),this.attach(),this.configure(),this.renderContent()}allBookHandler(){this.filterResults()}filterResults(e,t){const n=a.allBooks.filter(n=>{switch(t){case"author-container":return n.author===e;case"category-container":return n.category===e;case"rating-container":return n.rating.toString()===e;default:return n}});this.addedBooks=n,a.updateListeners(n),this.renderBooks()}sortSelectHandler(){const e=document.getElementById("sortBy").value;let t;t=a.sortBy(e),"rating"===e&&t.reverse(),a.updateListeners(t),this.addedBooks=t,this.renderBooks()}renderBooks(){const e=document.getElementById("books-list");if(e.innerHTML="",0===this.addedBooks.length)e.innerHTML='<p class="no-books-added">No books added yet.<p>';else for(const e of this.addedBooks)new h(e)}configure(){this.element.querySelector("#show-all").addEventListener("click",this.allBookHandler),this.element.querySelector("#sortBy").addEventListener("change",this.sortSelectHandler)}renderContent(){}attach(){this.hostElement.insertAdjacentElement("beforeend",this.element)}}p([r],f.prototype,"allBookHandler",null),p([r],f.prototype,"sortSelectHandler",null);var m=n(1),g=n.n(m),v=n(0),y={insert:"head",singleton:!1};g()(v.a,y),v.a.locals;const b=new f,E=new c}]);